{% extends 'base.html' %}
{% block content %}
{% load static %}

<head>

  <title>TigerGainz - Waiting List</title>

  <!--Page Stylesheet-->
  <link rel="stylesheet" type="text/css" href="{% static 'admin/css/DatabaseStyle.css' %}" />

</head>

<body>

  <div class="headerpic"><img src="https://cdn.discordapp.com/attachments/735319507341672642/761996625165680640/Database.jpg" class="img.responsive" style="width:55%">
  </div>

  <body class="text-center">
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
  </body>

  <!--TigerGainz Database Jumbotron-->
  <div class="border-black">
    <h1 class="display-5"><strong>TigerGainz Waiting List</strong></h1>
  </div>
  <br />
  <br />

  <div class="jumbotron">
    <div class="border-white">
      <p class="lead">What Now?</p>
      <hr class="my-4">
      <div class="border-orange">
        <div class="jumbotron white-background">

          <div>
            <div class="card flex-md-row mb-4 h-md-250">
              <div>
                <svg width="1em" height="1em" viewBox="0 0 16 16" fill="currentColor" class="bi-small bi bi-person-lines-fill" viewBox="0 0 16 16">
                  <path
                    d="M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z" />
                </svg>
              </div>
              <div class="text-center card-body d-flex flex-column align-items-start">
                <p>Didn't get a match? Feel free to search through the waiting list below!</p>
              </div>
            </div>
          </div>

          <div>
            <div class="card flex-md-row mb-4 h-md-250">
              <div>
                <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi-small bi-x" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                  <path fill-rule="evenodd" d="M11.854 4.146a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708-.708l7-7a.5.5 0 0 1 .708 0z" />
                  <path fill-rule="evenodd" d="M4.146 4.146a.5.5 0 0 0 0 .708l7 7a.5.5 0 0 0 .708-.708l-7-7a.5.5 0 0 0-.708 0z" />
                </svg>
              </div>
              <div class="text-center card-body d-flex flex-column align-items-start">
                <p>Found a match and want to be taken off the waiting list?
                  Click the button below!</p>
              </div>
            </div>
          </div>

          <hr class="my-4">
          <a href="{% url 'remove' %}" class="btn btn-lg btn-secondary">Take me off the waiting list please!</a>
        </div>
      </div>
    </div>
  </div>

  <div class="border-black">
    <h1 class="display-5"><strong>Profiles</strong></h1>
  </div>
  <br />
  <br />

  <div class="jumbotron">
    <div class="border-white">
      <div class="border-orange">
        <div class="jumbotron white-background">
          <!-- Filters !-->
          <h1>Filter Profiles Based On:</h1>
          <br />
          <hr class="my-4">
          <form action="{% url 'database' %}" method='POST'>
            {% csrf_token %}

            <select id="workout_type_filter" name="workout_type_filter" class="form-control">
              <option value="Lifting">Lifting</option>
              <option value="Running">Running</option>
              <option value="Swimming">Swimming</option>
              <option value="Biking">Biking</option>
            </select>
            <br />
            <br />
            <input class="btn btn-lg btn-secondary" type="submit" value="Filter Search">
          </form>
          <hr class="my-4">
          <!--Profiles-->

          <div class="row">
            {% for entry in profiles %}
            {% if forloop.counter0|divisibleby:2 %}
            {% endif %}
            <div class="column">
              <p class="lead">{{ entry.name }}</p>
              <div class="pic-container border-black">
                <div class="jumbotron white-background">
                  <img class="img-fluid" src="https://cdn.discordapp.com/attachments/735319507341672642/762013221007654942/Tiger_Profile_Pic.jpg">
                  <br />
                  <br />
                  <strong class="d-inline-block mb-2 text-primary">Duration</strong>
                  <div class="mb-1 text-muted">
                    <p>{{ entry.duration }} </p>
                  </div>
                  <strong class="d-inline-block mb-2 text-primary">Time Zone</strong>
                  <div class="mb-1 text-muted">
                    <p>{{ entry.time_zone }} </p>
                  </div>
                  <strong class="d-inline-block mb-2 text-primary">Availability</strong>
                  <div class="mb-1 text-muted">
                    <p>{{ entry.days }} </p>
                  </div>
                  <strong class="d-inline-block mb-2 text-primary">Workout Type</strong>
                  <div class="mb-1 text-muted">
                    <p>{{ entry.workout_type }} </p>
                  </div>

                  <br />
                  <br />
                  <a href="{% url 'profile' entry.id %}" class="btn btn-lg btn-secondary">View Profile</a>
                  {% if entry.user_id != user.id %}
                  <a href="javascript:{document.getElementById('partner_match{{entry.user_id}}').submit()}">
                    <button class="btn btn-lg btn-secondary">
                      Match
                    </button>
                  </a>
                  <form id="partner_match{{entry.user_id}}" action="{% url 'partner_match' entry.user_id %}" method="POST">
                    {% csrf_token %}
                    <input type="hidden" />
                  </form>
                  {% endif %}
                </div>
              </div>
              <hr class="my-4">
            </div>
            {% endfor %}
          </div>

</body>
{% endblock %}
